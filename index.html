
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Invitación Sandra & Jon</title>

<style>
  body{
    margin:0;
    background:#e7d7c3;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    font-family:'Georgia',serif;
    overflow:hidden;
  }

  .stage{
    width:min(95vw,420px);
    position:relative;
    perspective:1200px;
  }

  /* SOBRE */
  .envelope{
    width:100%;
    height:300px;
    background:#2f2f33;
    border-radius:12px;
    position:relative;
    box-shadow:0 6px 20px rgba(0,0,0,.25);
    overflow:visible;
  }
  
  /* Solapa */
  .flap{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:60%;
    background:#2c2c30;
    transform-origin:top;
    clip-path:polygon(0 0,100% 0,50% 100%);
    transition:transform 1.2s ease;
    z-index:3;
  }

  /* SELLO ROJO TIPO LACRE */
  .seal{
    position:absolute;
    top:63%;
    left:50%;
    transform:translate(-50%,-50%);
    width:75px;
    height:75px;
    background: radial-gradient(circle at 30% 30%, #b73838, #8b1919);
    border-radius:50%;
    box-shadow:0 5px 12px rgba(0,0,0,.3),
               inset 0 2px 4px rgba(255,255,255,.2);
    cursor:pointer;
    z-index:5;
  }

  .seal::after{
    content:"S · J";
    position:absolute;
    top:50%; left:50%;
    transform:translate(-50%,-50%);
    color:#f8d7d7;
    font-weight:bold;
    font-size:20px;
    font-family:'Times New Roman',serif;
    letter-spacing:2px;
  }

  .tap-hint{
    position:absolute;
    width:100%;
    text-align:center;
    top:86%;
    font-size:16px;
    color:#6a543e;
    font-weight:bold;
    animation:fadehint 1.6s ease-in-out infinite;
    z-index:1;
  }

  @keyframes fadehint{
    0%{opacity:0.4;}
    50%{opacity:1;}
    100%{opacity:0.4;}
  }

  /* HOJA INTERIOR */
  .card{
    width:90%;
    height:260px;
    background:white;
    position:absolute;
    left:50%;
    top:40%;
    transform:translate(-50%,50%);
    border-radius:16px;
    box-shadow:0 6px 22px rgba(0,0,0,.25);
    padding:25px;
    text-align:center;
    opacity:0;
    transition:all 1.3s ease;
    z-index:10; /* Ahora SIEMPRE por encima de la solapa */
  }

  /* Ribete dorado elegante */
  .card:before{
    content:"";
    position:absolute;
    inset:14px;
    border:3px solid #d4a256;
    border-radius:12px;
    pointer-events:none;
  }

  .message{
    margin-top:25px;
    font-size:24px;
    color:#6a543e;
    font-weight:bold;
    line-height:1.4;
  }

  /* Estado abierto */
  .open .flap{
    transform:rotateX(-150deg);
  }

  .open .card{
    opacity:1;
    transform:translate(-50%,-60%);
  }

  /* Confeti */
  .confetti{
    position:fixed;
    top:-10px;
    width:10px;
    height:10px;
    opacity:0;
    animation:fall 3s linear forwards;
    border-radius:2px;
    pointer-events:none;
  }

  .confetti.round{
    border-radius:50%;
  }

  @keyframes fall{
    0%{opacity:1; transform:translateY(0) rotate(0deg);}
    100%{opacity:0; transform:translateY(120vh) rotate(720deg);}
  }

</style>
</head>

<body>

<div class="stage">
  <div class="envelope" id="envelope">
    <div class="flap"></div>

    <button class="seal" id="seal"></button>

    <div class="tap-hint">Pulsa en el sello para abrir el sobre</div>

    <div class="card" id="card">
      <div class="message">Has sido invitado<br>a nuestra boda</div>
    </div>
  </div>
</div>

<script>
  const seal=document.getElementById("seal");
  const envelope=document.getElementById("envelope");

  function confetti(){
    const colors=["#d4a256","#e8c27c","#c1785c","#fff3d6","#b99d7c"];
    for(let i=0;i<70;i++){
      let p=document.createElement("div");
      p.className="confetti "+(Math.random()>0.5?"round":"");
      p.style.left=Math.random()*100+"vw";
      let size=7+Math.random()*10;
      p.style.width=p.style.height=size+"px";
      p.style.background=colors[Math.floor(Math.random()*colors.length)];
      p.style.animationDuration=(2.5+Math.random()*1.5)+"s";
      document.body.appendChild(p);
      setTimeout(()=>p.remove(),4000);
    }
  }

  seal.addEventListener("click",()=>{
    envelope.classList.add("open");
    confetti();

    setTimeout(()=>{
      window.location.href="https://revista-religion.my.canva.site/sandrajon270626";
    },5000);
  },{once:true});
</script>

</body>
</html>
