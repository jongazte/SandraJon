
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Invitación Sandra & Jon</title>

<style>
  :root{
    --bg:   #e7d7c3;
    --env:  #2f2f33;   /* cuerpo del sobre */
    --flap: #2c2c30;   /* solapa */
    --gold: #d4a256;   /* dorado elegante */
    --ink:  #6a543e;   /* texto */
  }

  /* ---------- LAYOUT BÁSICO ---------- */
  html, body { height: 100%; }
  body{
    margin:0;
    background:var(--bg);
    display:flex; justify-content:center; align-items:center;
    font-family:'Georgia',serif;
    overflow:hidden;
    -webkit-tap-highlight-color: transparent;
  }

  .stage{
    width:min(95vw, 420px);
    position:relative;
    perspective:1200px;
  }

  /* ---------- SOBRE ---------- */
  .envelope{
    width:100%;
    height:300px;
    position:relative;
    background:var(--env);
    border-radius:14px;
    box-shadow:0 10px 26px rgba(0,0,0,.25);
    overflow:visible;
  }

  /* Ribete dorado del marco del sobre */
  .envelope::before{
    content:"";
    position:absolute;
    inset:6px;
    border-radius:12px;
    border:2px solid var(--gold);
    pointer-events:none;
    opacity:.9;
    z-index:1;
  }

  /* ---------- SOLAPA TRIANGULAR ---------- */
  .flap{
    position:absolute;
    top:0; left:0;
    width:100%; height:60%;
    background:var(--flap);
    clip-path:polygon(0 0, 100% 0, 50% 100%); /* triángulo perfecto */
    transform-origin: top center;
    transition: transform 1.1s ease;
    z-index:3; /* por debajo del sello, por encima del cuerpo */
    overflow:hidden; /* para recortar bien los ribetes */
  }

  /* Borde horizontal dorado en la parte superior de la solapa */
  .flap::before{
    content:"";
    position:absolute;
    left:10px; right:10px; top:6px;
    height:3px; background:var(--gold);
    border-radius:2px;
    pointer-events:none;
    z-index:4;
  }

  /* Las dos líneas en V doradas (como en tu adjunto) */
  .edge{
    position:absolute;
    top:10px;
    height:3px;
    background:var(--gold);
    border-radius:2px;
    pointer-events:none;
    z-index:4;
    box-shadow:0 0 1px rgba(0,0,0,.25);
  }
  /* Izquierda: desde esquina superior izquierda hasta el centro */
  .edge.left{
    left:12px;
    width:62%;
    transform-origin:left top;
    transform:rotate(34deg);
  }
  /* Derecha: desde esquina superior derecha hasta el centro */
  .edge.right{
    right:12px;
    width:62%;
    transform-origin:right top;
    transform:rotate(-34deg);
  }

  /* ---------- SELLO ---------- */
  .seal{
    position:absolute;
    top:63%; left:50%;
    transform:translate(-50%,-50%);
    width:78px; height:78px;
    border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #bf4040, #8f1d1d 72%);
    box-shadow: 0 6px 14px rgba(0,0,0,.35),
                inset 0 2px 4px rgba(255,255,255,.25);
    border:2px solid rgba(0,0,0,.15);
    cursor:pointer;
    z-index:5; /* por encima de la solapa */
  }
  .seal::before{
    content:"";
    position:absolute; inset:10px;
    border-radius:50%;
    border:2px solid rgba(255,255,255,.28);
    box-shadow: inset 0 0 6px rgba(0,0,0,.18);
  }
  .seal::after{
    content:"S&J";
    position:absolute; top:50%; left:50%;
    transform:translate(-50%,-50%);
    color:#fae6e6;
    font-weight:700; font-size:22px; letter-spacing:1px;
    font-family:"Times New Roman",serif;
    text-shadow:0 1px 0 rgba(0,0,0,.25);
  }

  /* ---------- MENSAJES ---------- */
  .tap-hint{
    position:absolute;
    width:100%; text-align:center;
    top:86%; font-size:16px; color:var(--ink); font-weight:700;
    animation:fadehint 1.6s ease-in-out infinite;
    z-index:2;
  }
  @keyframes fadehint{ 0%{opacity:.45;} 50%{opacity:1;} 100%{opacity:.45;} }

  /* ---------- HOJA INTERIOR ---------- */
  .card{
    position:absolute;
    left:50%; top:40%;
    transform:translate(-50%,50%);
    width:90%; height:260px;
    background:#fff;
    border-radius:16px;
    box-shadow:0 6px 22px rgba(0,0,0,.25);
    padding:25px 20px;
    text-align:center;
    opacity:0;
    transition: transform 1.2s ease, opacity 1.2s ease;
    z-index:10; /* SIEMPRE por encima de la solapa */
  }
  .card::before{
    content:"";
    position:absolute; inset:14px;
    border:3px solid var(--gold);
    border-radius:12px;
    pointer-events:none;
  }
  .message .title{
    font-size:24px; font-weight:700; color:var(--ink);
  }
  .message .names{
    font-size:20px; font-weight:700; color:#9a775a; margin-top:12px;
  }

  /* ---------- ESTADOS ---------- */
  .open .flap { transform: rotateX(-150deg); }
  .open .card { opacity:1; transform:translate(-50%,-60%); }

  /* ---------- CONFETI ---------- */
  .confetti{
    position:fixed; top:-10px;
    width:10px; height:10px; opacity:0;
    animation: fall 3s linear forwards;
    border-radius:2px; pointer-events:none;
  }
  .confetti.round{ border-radius:50%; }
  @keyframes fall{
    0%{opacity:1; transform:translateY(0) rotate(0deg);}
    100%{opacity:0; transform:translateY(120vh) rotate(720deg);}
  }
</style>
</head>

<body>

<div class="stage">
  <div class="envelope" id="envelope">

    <!-- Solapa con ribete superior + dos líneas doradas en V -->
    <div class="flap">
      <span class="edge left"></span>
      <span class="edge right"></span>
    </div>

    <!-- Sello clicable -->
    <button class="seal" id="seal" aria-label="Abrir invitación"></button>

    <!-- Indicador -->
    <div class="tap-hint">Pulsa en el sello para abrir el sobre</div>

    <!-- Hoja con texto -->
    <div class="card" id="card" aria-live="polite">
      <div class="message">
        <div class="title">Has sido invitado a nuestra boda</div>
        <div class="names">Sandra &amp; Jon</div>
      </div>
    </div>

  </div>
</div>

<script>
  const seal = document.getElementById("seal");
  const envelope = document.getElementById("envelope");

  function confetti(){
    const colors=["#d4a256","#e8c27c","#c1785c","#fff3d6","#b99d7c"];
    for(let i=0;i<70;i++){
      const p=document.createElement("div");
      p.className="confetti "+(Math.random()>0.5?"round":"");
      p.style.left=(Math.random()*100)+"vw";
      const size=7+Math.random()*10;
      p.style.width=p.style.height=size+"px";
      p.style.background=colors[Math.floor(Math.random()*colors.length)];
      p.style.animationDuration=(2.5+Math.random()*1.5)+"s";
      document.body.appendChild(p);
      setTimeout(()=>p.remove(),4200);
    }
  }

  seal.addEventListener("click",()=>{
    envelope.classList.add("open");
    confetti();
    setTimeout(()=>{
      window.location.href="https://revista-religion.my.canva.site/sandrajon270626";
    },5000);
  },{once:true});
</script>

</body>
</html>
